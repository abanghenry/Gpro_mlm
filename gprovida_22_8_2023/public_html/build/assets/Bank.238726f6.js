import{D as k}from"./DefaultLayout.5299b97b.js";import{H as y,L as g,r as w,o as n,c as r,a as x,b as s,t as c,d as _,F as h,e as f,w as N,f as a,v as u,g as d,h as B}from"./app.76d76681.js";import{_ as C}from"./_plugin-vue_export-helper.cdc0426e.js";const V={name:"Bank",components:{Head:y,Link:g},layout:k,props:{auth:Object,errors:Object,flash:Object,banks:Object,currencies:Object,countries:Object,user:Object,nigeriaBanks:Object},data(){return{formTitle:"Add New Bank Address",toEdit:!1,toEditId:"",form:this.$inertia.form({id:null,status:"1",default:"0",currency_id:this.user.currency_id,bank_name:"",bank_holder_name:"",bank_account_number:"",bank_branch:"",country:this.user.country,type:"",swift:"",bic:"",sort_code:"",bank_code:"",routing_no:""})}},methods:{itemProjectionFunction(i){return i.name},bankSelected(i){console.log("selected: "+i.input);let e=this.form.bank_name;console.log("bank name: ",e);let l=this.nigeriaBanks.filter(function(b){return b.name==e});l.length>0?(this.form.sort_code=l[0].code,this.form.bank_code=l[0].bank_code,this.form.swift=l[0].code,this.form.routing_no=l[0].code):(this.form.sort_code="",this.form.bank_code="",this.form.swift="",this.form.routing_no="")},submitBank(){this.toEdit?(this.form.put("/bank"),this.form.reset(),this.formTitle="Add Bitcoin Address",this.toEdit=!1):this.form.post("/bank")},editBank(i,e){e.stopPropagation();let l=this.banks.filter(function(b){return b.encrypted_id==i});this.form.currency_id=l[0].currency_id,this.form.bank_name=l[0].bank_name,this.form.bank_holder_name=l[0].bank_holder_name,this.form.bank_account_number=l[0].bank_account_number,this.form.bank_branch=l[0].bank_branch,this.form.country=l[0].country,this.form.type=l[0].type,this.form.swift=l[0].swift,this.form.bic=l[0].bic,this.form.sort_code=l[0].sort_code,this.form.bank_code=l[0].bank_code,this.form.routing_no=l[0].routing_no,this.form.status=l[0].status,this.form.default=l[0].default,this.form.id=l[0].id,this.formTitle="Edit Bank Details",this.toEdit=!0},cancel(){this.toEdit=!1}},mounted(){$(document).ready(function(){var i=$("#table").DataTable({lengthMenu:[10,25,50,100,500],buttons:["copy","excel","pdf","print"]});i.buttons().container().appendTo("#table_wrapper .col-md-6:eq(0)")})},watch:{form(i){console.log(i)}}},U={className:"page-wrapper"},A={className:"page-content"},E=s("div",{className:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},[s("div",{className:"breadcrumb-title pe-3"},"Bank")],-1),S={key:0,className:"row"},D={className:"col-xl-12"},j={key:0,className:"alert alert-success",role:"alert"},q={key:1,className:"alert alert-danger",role:"alert"},O={className:"card border-top border-0 border-4 border-primary"},T={className:"card-body p-4"},M=s("div",{className:"card-title d-flex align-items-center"},[s("div",null,[s("i",{className:"bx bx-lock me-1 font-22 text-primary"})]),s("h5",{className:"mb-0 text-primary"},"Bank")],-1),F=s("hr",null,null,-1),H={class:"table-responsive"},L={id:"table",class:"table table-striped table-bordered"},I=s("thead",null,[s("tr",null,[s("th",null,"Currency Name"),s("th",null,"Bank Name"),s("th",null,"Account Name"),s("th",null,"Account Number"),s("th",null,"Country"),s("th",null,"Swift"),s("th",null,"Type"),s("th",null,"Status"),s("th",null,"Default"),s("th",null,"Edit")])],-1),P={class:"align-middle"},z={class:"align-middle"},G={class:"align-middle"},J={class:"align-middle"},K={class:"align-middle"},Q={class:"align-middle"},R={class:"align-middle"},W={class:"align-middle"},X={key:0,class:"badge bg-primary"},Y={key:1,class:"badge bg-warning text-dark"},Z={class:"align-middle"},ss={key:0,class:"badge bg-success"},os={class:"align-middle"},es={class:"d-flex order-actions"},ts=["onClick"],ls=s("i",{class:"bx bxs-edit"},null,-1),ns=[ls],rs={key:1,className:"row"},is={className:"col-xl-8"},cs={class:"card border-top border-0 border-4 border-primary"},as={class:"card-body p-5"},ds={class:"card-title d-flex align-items-center"},ms=s("div",null,[s("i",{class:"bx bx-lock me-1 font-22 text-primary"})],-1),_s={class:"mb-0 text-primary"},us=s("hr",null,null,-1),bs={class:"row mb-3 mt-4"},hs=s("label",{class:"col-sm-4 col-form-label"},"Bank Name*",-1),fs={class:"col-sm-7"},ps=["value"],vs={class:"row mb-3"},ks=s("label",{class:"col-sm-4 col-form-label"},"Account Name*",-1),ys={class:"col-sm-7"},gs={class:"row mb-3"},ws=s("label",{class:"col-sm-4 col-form-label"},"Account Number *",-1),xs={class:"col-sm-7"},Ns={class:"row mb-3"},Bs=s("label",{class:"col-sm-4 col-form-label"},"sort Code *",-1),Cs={class:"col-sm-7"},Vs={class:"row mb-3"},Us=s("label",{class:"col-sm-4 col-form-label"},"bank Code *",-1),As={class:"col-sm-7"},Es={class:"row mb-3"},Ss=s("label",{class:"col-sm-4 col-form-label"},"Bank branch",-1),Ds={class:"col-sm-7"},js={class:"row mb-3 mt-4"},qs=s("label",{class:"col-sm-4 col-form-label"},"Account Type",-1),Os={class:"col-sm-7"},Ts=s("option",{value:""},"Choose",-1),Ms=s("option",{value:"saving"},"Saving",-1),Fs=s("option",{value:"current"},"Current",-1),Hs=[Ts,Ms,Fs],Ls={class:"row mb-3 mt-4"},Is=s("label",{class:"col-sm-4 col-form-label"},"Curreny",-1),Ps={class:"col-sm-7"},zs=["value"],Gs={class:"row mb-3 mt-4"},Js=s("label",{class:"col-sm-4 col-form-label"},"Country",-1),Ks={class:"col-sm-7"},Qs=["value"],Rs={class:"row mb-3"},Ws=s("label",{class:"col-sm-4 col-form-label"},"Status",-1),Xs={class:"col-sm-7"},Ys=s("option",{value:"1"},"Active",-1),Zs=s("option",{value:"0"},"Disabled",-1),$s=[Ys,Zs],so={key:0,class:"form-error"},oo={class:"row mb-3"},eo=s("label",{class:"col-sm-4 col-form-label"},"Make Default",-1),to={class:"col-sm-7"},lo={class:"form-check form-switch"},no=s("label",{class:"form-check-label"},null,-1),ro={class:"row mb-3"},io=s("label",{class:"col-sm-4 col-form-label"},"swift",-1),co={class:"col-sm-7"},ao=s("div",{class:"row mb-3"},[s("label",{class:"col-sm-4 col-form-label"},"For Account Outside Nigeria"),s("div",{class:"col-sm-7"},[s("hr")])],-1),mo={class:"row mb-3"},_o=s("label",{class:"col-sm-4 col-form-label"},"BIC",-1),uo={class:"col-sm-7"},bo={class:"row mb-3"},ho=s("label",{class:"col-sm-4 col-form-label"},"routing No",-1),fo={class:"col-sm-7"},po={class:"row"},vo=s("label",{class:"col-sm-4 col-form-label"},null,-1),ko=s("div",{class:"col-sm-3"},[s("button",{type:"submit",class:"btn btn-primary px-5"},"Submit")],-1),yo={class:"col-sm-3"};function go(i,e,l,b,t,m){const v=w("Head");return n(),r("div",U,[x(v,{title:`Bank ${l.auth.user.username}`},null,8,["title"]),s("div",A,[E,t.toEdit?_("",!0):(n(),r("div",S,[s("div",D,[i.$page.props.flash.success?(n(),r("div",j,c(i.$page.props.flash.success),1)):_("",!0),i.$page.props.flash.error?(n(),r("div",q,c(i.$page.props.flash.error),1)):_("",!0),s("div",O,[s("div",T,[M,F,s("div",H,[s("table",L,[I,s("tbody",null,[(n(!0),r(h,null,f(l.banks,o=>(n(),r("tr",{key:o.id,class:"hover:bg-gray-100 focus-within:bg-gray-100"},[s("td",P,c(o.currency.name),1),s("td",z,c(o.bank_name),1),s("td",G,c(o.bank_holder_name),1),s("td",J,c(o.bank_account_number),1),s("td",K,c(o.country),1),s("td",Q,c(o.swift),1),s("td",R,c(o.type),1),s("td",W,[o.status==1?(n(),r("span",X,"Active")):(n(),r("span",Y,"Inactive"))]),s("td",Z,[o.default==1?(n(),r("span",ss,"Default")):_("",!0)]),s("td",os,[s("div",es,[s("button",{type:"button",class:"btn btn-sm btn-outline-info",onClick:p=>m.editBank(o.encrypted_id,p)},ns,8,ts)])])]))),128))])])])])])])])),t.toEdit||l.banks.length==0?(n(),r("div",rs,[s("div",is,[s("div",cs,[s("div",as,[s("div",ds,[ms,s("h5",_s,c(this.formTitle),1)]),us,s("form",{class:"row g-3",onSubmit:e[16]||(e[16]=N((...o)=>m.submitBank&&m.submitBank(...o),["prevent"]))},[s("div",bs,[hs,s("div",fs,[a(s("select",{class:"form-control","onUpdate:modelValue":e[0]||(e[0]=o=>t.form.bank_name=o),name:"bank",id:"bank",onChange:e[1]||(e[1]=(...o)=>m.bankSelected&&m.bankSelected(...o))},[(n(!0),r(h,null,f(l.nigeriaBanks,(o,p)=>(n(),r("option",{value:o.name,key:p},c(o.name),9,ps))),128))],544),[[u,t.form.bank_name]])])]),s("div",vs,[ks,s("div",ys,[a(s("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=o=>t.form.bank_holder_name=o),required:""},null,512),[[d,t.form.bank_holder_name]])])]),s("div",gs,[ws,s("div",xs,[a(s("input",{type:"text",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=o=>t.form.bank_account_number=o),required:""},null,512),[[d,t.form.bank_account_number]])])]),s("div",Ns,[Bs,s("div",Cs,[a(s("input",{type:"text",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=o=>t.form.sort_code=o),readonly:"",required:""},null,512),[[d,t.form.sort_code]])])]),s("div",Vs,[Us,s("div",As,[a(s("input",{type:"text",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=o=>t.form.bank_code=o),readonly:"",required:""},null,512),[[d,t.form.bank_code]])])]),s("div",Es,[Ss,s("div",Ds,[a(s("input",{type:"text",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=o=>t.form.bank_branch=o)},null,512),[[d,t.form.bank_branch]])])]),s("div",js,[qs,s("div",Os,[a(s("select",{class:"form-select","onUpdate:modelValue":e[7]||(e[7]=o=>t.form.type=o),required:""},Hs,512),[[u,t.form.type]])])]),s("div",Ls,[Is,s("div",Ps,[a(s("select",{class:"form-select","onUpdate:modelValue":e[8]||(e[8]=o=>t.form.currency_id=o),required:""},[(n(!0),r(h,null,f(l.currencies,o=>(n(),r("option",{key:o.id,value:o.id},c(o.name),9,zs))),128))],512),[[u,t.form.currency_id]])])]),s("div",Gs,[Js,s("div",Ks,[a(s("select",{class:"form-select","onUpdate:modelValue":e[9]||(e[9]=o=>t.form.country=o),required:""},[(n(!0),r(h,null,f(l.countries,o=>(n(),r("option",{key:o.id,value:o.name},c(o.name),9,Qs))),128))],512),[[u,t.form.country]])])]),s("div",Rs,[Ws,s("div",Xs,[a(s("select",{class:"form-select","onUpdate:modelValue":e[10]||(e[10]=o=>t.form.status=o),required:""},$s,512),[[u,t.form.status]]),t.form.errors.status?(n(),r("div",so,c(t.form.errors.status),1)):_("",!0)])]),s("div",oo,[eo,s("div",to,[s("div",lo,[a(s("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":e[11]||(e[11]=o=>t.form.default=o),"true-value":1,"false-value":0},null,512),[[B,t.form.default]]),no])])]),s("div",ro,[io,s("div",co,[a(s("input",{type:"text",class:"form-control","onUpdate:modelValue":e[12]||(e[12]=o=>t.form.swift=o)},null,512),[[d,t.form.swift]])])]),ao,s("div",mo,[_o,s("div",uo,[a(s("input",{type:"text",class:"form-control","onUpdate:modelValue":e[13]||(e[13]=o=>t.form.bic=o)},null,512),[[d,t.form.bic]])])]),s("div",bo,[ho,s("div",fo,[a(s("input",{type:"text",class:"form-control","onUpdate:modelValue":e[14]||(e[14]=o=>t.form.routing_no=o)},null,512),[[d,t.form.routing_no]])])]),s("div",po,[vo,ko,s("div",yo,[s("button",{type:"button",class:"btn btn-danger px-5",onClick:e[15]||(e[15]=(...o)=>m.cancel&&m.cancel(...o))},"Cancel")])])],32)])])])])):_("",!0)])])}const Bo=C(V,[["render",go]]);export{Bo as default};
