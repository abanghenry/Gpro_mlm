import{D as S}from"./DefaultLayout.5299b97b.js";import{o as c,c as a,b as e,t as s,d as n,F as h,e as m,f as u,v as _,l as p,j as b}from"./app.76d76681.js";import{_ as g}from"./_plugin-vue_export-helper.cdc0426e.js";const f={name:"ShoppingCart",layout:S,props:{auth:Object,errors:Object,categories:Object,pageTitle:String,cart:Object,currency:Object,user:Object,stores:Object,totalAmount:String,itemCount:String},data(){return{form:this.$inertia.form({cartItems:this.cart.lenght,selectedStore:"",paymentMethod:""}),imageHeight:null,selectedStoreName:"",selectedStoreDesc:"",selectedStoreAddress:"",selectedStoreCityState:"",selectedStoreCountry:"",selectedStorePhone:"",selectedStoreEmail:""}},methods:{filterCategory(r){console.log(r)},incrementQty(){this.form.qty++},decrementQty(){this.form.qty>1&&this.form.qty--},showStoreDetails(r){let t=this.stores.findIndex(l=>l.id==r.target.value);t>-1?(this.selectedStoreName=this.stores[t].name,this.selectedStoreDesc=this.stores[t].description,this.selectedStoreAddress=this.stores[t].address+" "+this.stores[t].address2,this.selectedStoreCityState=this.stores[t].city+", "+this.stores[t].state,this.selectedStoreCountry=this.stores[t].country,this.selectedStorePhone=this.stores[t].phone,this.selectedStoreEmail=this.stores[t].email):(this.selectedStoreName="",this.selectedStoreDesc="",this.selectedStoreAddress="",this.selectedStoreCityState="",this.selectedStoreCountry="",this.selectedStorePhone="",this.selectedStoreEmail=""),t===-1&&(this.selectedItem.discountedAmount=this.discountAmount,this.selectedItem.discountType=this.discountSelect,this.cart.push({...this.selectedItem}),console.log(this.cart))},continueShopping(){this.$inertia.visit("/welcomepack",{method:"get",data:{},preserveScroll:!0,preserveState:!0})},deleteFromCart(r){this.$inertia.visit("/welcomepack/delete",{method:"delete",data:{id:r}})},store(){if(this.form.selectedStore=="")return alert("Select Pickup Store"),!1;if(this.form.paymentMethod=="")return alert("Select Payment method"),!1;this.form.postCart=JSON.stringify(this.cart),this.form.post(this.route("welcomepack.store"))},setheight(r){let t=r.target;this.imageHeight=t.clientWidth},loadImage(r){this.imageFeatured=r}}},y={class:"page-wrapper"},v={class:"page-content"},C=b('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Shopping Cart</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Shopping Cart</li></ol></nav></div><div class="ms-auto"></div></div>',1),x={class:"row"},k={class:"col-xl-9"},j={key:0,class:"alert alert-success",role:"alert"},w={key:1,class:"alert alert-danger",role:"alert"},D={key:2,class:"alert alert-danger",role:"alert"},A={class:"col-xl-8"},N={class:"card"},O={class:"card-body border-primary border-bottom border-3 border-0"},I={class:"table-responsive"},P={class:"table mb-0"},q=e("thead",{class:"table-light"},[e("tr",null,[e("th",null,"Items Details"),e("th",null,"Quantity"),e("th",null,"Item Price"),e("th",null,"Actions")])],-1),L={width:"40%"},M={style:{"text-align":"right"}},T=["onClick"],V=e("a",{href:"javascript:;",class:"ms-3"},[e("i",{class:"bx bxs-trash"})],-1),E=[V],F={class:"card"},B={class:"card-body border-primary border-bottom border-3 border-0"},Q={class:"d-flex align-items-center gap-2"},H={class:"col-xl-4"},U={class:"card border-primary border-bottom border-3 border-0"},W={class:"card-body"},J=e("h5",{class:"card-title text-primary"},"Order Summary",-1),z=e("hr",null,null,-1),G={class:"row"},K=e("dd",{class:"col-sm-6 mb-3"},"No. Of Items",-1),R={class:"col-sm-6 mb-3"},X=e("dd",{class:"col-sm-6 mb-3"},"Delivery Charges:",-1),Y=e("dd",{class:"col-sm-6 mb-3"},null,-1),Z=e("dd",{class:"col-sm-6 mb-3"},"Sub Total",-1),$={class:"col-sm-6 mb-3"},ee=e("dt",{class:"col-sm-6 mb-3"},"Total",-1),te={class:"col-sm-6 mb-3"},se={class:"d-flex align-items-center gap-2 mb-3 mt-2"},oe=e("option",{value:""},"Select Store ",-1),re=["value"],le={class:"card-title text-primary"},ie={class:"card-text"},ce=e("br",null,null,-1),ae=e("hr",null,null,-1),de={class:"d-flex align-items-center gap-2"},ne=e("option",{value:""},"Select Payment Method",-1),he=e("option",{value:"welcomepack"},"Welcome Package",-1),me=[ne,he],ue=e("hr",null,null,-1),_e={class:"d-flex align-items-center gap-2"};function pe(r,t,l,Se,i,d){return c(),a("div",y,[e("div",v,[C,e("div",x,[e("div",k,[r.$page.props.flash.success?(c(),a("div",j,s(r.$page.props.flash.success),1)):n("",!0),r.$page.props.flash.error?(c(),a("div",w,s(r.$page.props.flash.error),1)):n("",!0),l.errors.length>0||Object.keys(r.$page.props.errors).length>0?(c(),a("div",D,[(c(!0),a(h,null,m(l.errors,o=>(c(),a("p",null,s(o),1))),256))])):n("",!0)]),e("div",A,[e("div",N,[e("div",O,[e("div",I,[e("table",P,[q,e("tbody",null,[(c(!0),a(h,null,m(l.cart,o=>(c(),a("tr",null,[e("td",L,s(o.productName),1),e("td",null,s(o.productqty),1),e("td",null,[e("strong",null,s(l.currency.prefix)+s(o.productAmount.toLocaleString()),1),e("p",null,s(l.currency.prefix)+s(o.productPrice.toLocaleString())+" * "+s(o.productqty),1)]),e("td",M,[e("div",{class:"d-flex order-actions",onClick:be=>d.deleteFromCart(o.productId)},E,8,T)])]))),256))])])])])]),e("div",F,[e("div",B,[e("div",Q,[e("a",{href:"javascript:;",class:"btn btn-primary",onClick:t[0]||(t[0]=(...o)=>d.continueShopping&&d.continueShopping(...o))}," Continue To Shopping ")])])])]),e("div",H,[e("div",U,[e("div",W,[J,z,e("dl",G,[K,e("dd",R,s(l.itemCount.toLocaleString()),1),X,Y,Z,e("dd",$,[e("strong",null,s(l.currency.prefix)+" "+s(l.totalAmount.toLocaleString()),1)]),ee,e("dd",te,[e("strong",null,s(l.currency.prefix)+" "+s(l.totalAmount.toLocaleString()),1)])]),e("div",se,[u(e("select",{class:"form-select","onUpdate:modelValue":t[1]||(t[1]=o=>i.form.selectedStore=o),required:"",onChange:t[2]||(t[2]=(...o)=>d.showStoreDetails&&d.showStoreDetails(...o))},[oe,(c(!0),a(h,null,m(l.stores,o=>(c(),a("option",{value:o.id},s(o.name),9,re))),256))],544),[[_,i.form.selectedStore]])]),e("h6",le,s(i.selectedStoreName),1),e("p",ie,s(i.selectedStoreAddress)+" "+s(i.selectedStoreCityState)+" "+s(i.selectedStoreCountry),1),e("p",null,[p(s(i.selectedStorePhone)+" ",1),ce,p(" "+s(i.selectedStoreEmail),1)]),ae,e("div",de,[u(e("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=o=>i.form.paymentMethod=o),required:""},me,512),[[_,i.form.paymentMethod]])]),ue,e("div",_e,[e("a",{href:"javascript:;",class:"btn btn-primary",style:{width:"100%"},onClick:t[4]||(t[4]=(...o)=>d.store&&d.store(...o))}," Checkout ")])])])])])])])}const ve=g(f,[["render",pe]]);export{ve as default};
