import{D as b}from"./DefaultLayout.5299b97b.js";import{_ as f}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as a,c,b as t,t as l,d as u,F as d,e as m,l as p,j as v,C as y,p as x,k as w}from"./app.76d76681.js";const k={name:"SelectWelcomePack",metaInfo:{title:"Shop"},layout:b,props:{auth:Object,errors:Object,categories:Object,products:Object,user:Object,cartSession:Object,cartSessionLength:String,cartSessionTotalAmount:String},data(){return{selectedItem:{id:null,name:null,category:null,price:null,qty:null,discountedAmount:null,discountType:null},cart:this.cartSession,imageHeight:null}},methods:{filterCategory(e){console.log(e)},getPriceInUserCurrency(e){return e.currency_id==this.user.currency_id},addToCart(e,i,o,g){if(this.$inertia.visit("/welcomepack/product",{method:"post",data:{id:e,name:i,categoryId:o}}),this.selectedItem.id=e,this.selectedItem.name=i,this.selectedItem.category=o,this.selectedItem.qty=1,this.selectedItem.price=g.filter(this.getPriceInUserCurrency).price,this.selectedItem.discountedAmount=0,this.selectedItem.discountType="",this.selectedItem.id!=null){let _=this.cart.findIndex(r=>r.name==this.selectedItem.name);_===-1?this.cart.push({...this.selectedItem}):this.cart[_].qty++,this.clearBasket()}},clearBasket(){this.selectedItem.type=null,this.selectedItem.id=null,this.selectedItem.category=null,this.selectedItem.qty=null,this.selectedItem.name=null,this.selectedItem.price=null,this.selectedItem.discountedAmount=null,this.selectedItem.discountType=null},store(){this.form.postCart=JSON.stringify(this.cart),this.form.post(this.route("order.store"))},checkout(){this.$inertia.visit("/welcomepack/cart",{method:"get",data:{}})},setheight(e){let i=e.target;this.imageHeight=i.clientWidth}},computed:{}},h=e=>(x("data-v-c1a2a1fa"),e=e(),w(),e),I={class:"page-wrapper"},S={class:"page-content"},C={class:"row"},P={class:"col-xl-12"},T={key:0,class:"alert alert-success",role:"alert"},j={key:1,class:"alert alert-danger",role:"alert"},L={key:2,class:"alert alert-danger",role:"alert"},O={class:"col-12"},B={class:"alert alert-primary border-0 bg-primary fade show py-2"},V={class:"d-flex align-items-center"},A=h(()=>t("div",{class:"font-35 text-white"},[t("i",{class:"bx bx-bookmark-heart"})],-1)),D={class:"ms-3"},N=h(()=>t("h6",{class:"mb-0 text-white"},"Welcome Pack",-1)),W={class:"text-white"},q={class:"col-12"},H={class:"card"},F={class:"card-body"},G={class:"row align-items-center"},U={key:0,class:"col-lg-6 col-xl-6"},z=h(()=>t("i",{class:"bx bxs-cart-alt"},null,-1)),E={class:"col-lg-6 col-xl-6 ms-auto"},J={class:"float-lg-end"},M={class:"row row-cols-lg-auto g-2"},K=v('<div class="col-12" data-v-c1a2a1fa><div class="position-relative" data-v-c1a2a1fa><input type="text" class="form-control ps-5" placeholder="Search Product..." data-v-c1a2a1fa><span class="position-absolute top-50 product-show translate-middle-y" data-v-c1a2a1fa><i class="bx bx-search" data-v-c1a2a1fa></i></span></div></div>',1),Q={class:"col-12"},R={class:"btn-group",role:"group","aria-label":"Button group with nested dropdown"},X=h(()=>t("button",{type:"button",class:"btn btn-white"},"Product Category",-1)),Y={class:"btn-group",role:"group"},Z=h(()=>t("button",{id:"btnGroupDrop1b",type:"button",class:"btn btn-white dropdown-toggle dropdown-toggle-nocaret px-1","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"bx bxs-category"})],-1)),$={class:"dropdown-menu","aria-labelledby":"btnGroupDrop1"},tt=["onClick"],et={class:"row row-cols-1 row-cols-sm-2 row-cols-lg-3 row-cols-xl-4 row-cols-xxl-5 product-grid"},st={class:"col"},at=["onClick"],ct=["src","alt"],ot={class:"card-body"},lt={class:"card-title cursor-pointer"},it={class:"clearfix"},rt={class:"mb-0 float-start fw-bold"},nt=v('<div class="d-flex align-items-center mt-3 fs-6" data-v-c1a2a1fa><div class="cursor-pointer" data-v-c1a2a1fa><i class="bx bxs-star text-warning" data-v-c1a2a1fa></i><i class="bx bxs-star text-warning" data-v-c1a2a1fa></i><i class="bx bxs-star text-warning" data-v-c1a2a1fa></i><i class="bx bxs-star text-warning" data-v-c1a2a1fa></i><i class="bx bxs-star text-secondary" data-v-c1a2a1fa></i></div><p class="mb-0 ms-auto" data-v-c1a2a1fa>4.2(182)</p></div>',1);function dt(e,i,o,g,_,r){return a(),c("div",I,[t("div",S,[t("div",C,[t("div",P,[e.$page.props.flash.success?(a(),c("div",T,l(e.$page.props.flash.success),1)):u("",!0),e.$page.props.flash.error?(a(),c("div",j,l(e.$page.props.flash.error),1)):u("",!0),o.errors.length>0?(a(),c("div",L,[(a(!0),c(d,null,m(o.errors,s=>(a(),c("p",null,l(s),1))),256))])):u("",!0)]),t("div",O,[t("div",B,[t("div",V,[A,t("div",D,[N,t("div",W,[p("Select Products for your welcome Pack, Maximum total Value: "),t("b",null,l(o.user.currency.prefix)+l(o.user.package.price_user[0].price),1)])])])])]),t("div",q,[t("div",H,[t("div",F,[t("div",G,[o.cartSessionLength>0?(a(),c("div",U,[t("span",null,[p("Total Cart Value: "),t("b",null,l(o.user.currency.prefix)+" "+l(o.cartSessionTotalAmount.toLocaleString()),1)]),t("a",{href:"#",class:"btn btn-primary mx-lg-5 mb-lg-0",onClick:i[0]||(i[0]=(...s)=>r.checkout&&r.checkout(...s))},[z,p("Checkout ")])])):u("",!0),t("div",E,[t("form",J,[t("div",M,[K,t("div",Q,[t("div",R,[X,t("div",Y,[Z,t("ul",$,[(a(!0),c(d,null,m(o.categories,s=>(a(),c("li",null,[t("a",{class:"dropdown-item",href:"#",onClick:n=>r.filterCategory(s.id)},l(s.name),9,tt)]))),256))])])])])])])])])])])])]),t("div",et,[(a(!0),c(d,null,m(o.products,s=>(a(),c("div",st,[t("div",{class:"card",onClick:n=>r.addToCart(s.id,s.name,s.category.id,s.price)},[t("img",{src:s.image_url,class:"card-img-top img-rounded product-image",alt:s.name,onLoad:i[1]||(i[1]=(...n)=>r.setheight&&r.setheight(...n)),style:y({height:_.imageHeight+"px"})},null,44,ct),t("div",ot,[t("h6",lt,l(s.name),1),t("div",it,[t("p",rt,[t("span",null,[(a(!0),c(d,null,m(s.price,n=>(a(),c(d,null,[n.currency_id==this.user.currency_id?(a(),c(d,{key:0},[p(l(n.currency.prefix)+l(n.price.toLocaleString()),1)],64)):u("",!0)],64))),256))])])]),nt])],8,at)]))),256))])])])}const mt=f(k,[["render",dt],["__scopeId","data-v-c1a2a1fa"]]);export{mt as default};
