import{D as v}from"./DefaultLayout.5299b97b.js";import{_ as y}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as i,c as a,b as t,l as _,d as g,F as n,e as p,j as m,t as h,C as x,p as w,k as f}from"./app.76d76681.js";const I={name:"Order",metaInfo:{title:"Shop"},layout:v,props:{auth:Object,errors:Object,categories:Object,products:Object,user:Object,cartSession:Object,cartSessionLength:String},data(){return{selectedItem:{id:null,name:null,category:null,price:null,qty:null,discountedAmount:null,discountType:null},cart:this.cartSession,imageHeight:null}},methods:{filterCategory(e){console.log(e)},getPriceInUserCurrency(e){return e.currency_id==this.user.currency_id},addToCart(e,o,l,b){if(this.$inertia.visit("/order/product",{method:"post",data:{id:e,name:o,categoryId:l}}),this.selectedItem.id=e,this.selectedItem.name=o,this.selectedItem.category=l,this.selectedItem.qty=1,this.selectedItem.price=b.filter(this.getPriceInUserCurrency).price,this.selectedItem.discountedAmount=0,this.selectedItem.discountType="",this.selectedItem.id!=null){let u=this.cart.findIndex(c=>c.name==this.selectedItem.name);u===-1?this.cart.push({...this.selectedItem}):this.cart[u].qty++,this.clearBasket()}},clearBasket(){this.selectedItem.type=null,this.selectedItem.id=null,this.selectedItem.category=null,this.selectedItem.qty=null,this.selectedItem.name=null,this.selectedItem.price=null,this.selectedItem.discountedAmount=null,this.selectedItem.discountType=null},store(){this.form.postCart=JSON.stringify(this.cart),this.form.post(this.route("order.store"))},checkout(){this.$inertia.visit("/order/cart",{method:"get",data:{}})},setheight(e){let o=e.target;this.imageHeight=o.clientWidth}}},d=e=>(w("data-v-e4827bc9"),e=e(),f(),e),k={class:"page-wrapper"},C={class:"page-content"},S={class:"row"},B={class:"col-12"},O={class:"card"},j={class:"card-body"},D={class:"row align-items-center"},P={key:0,class:"col-lg-3 col-xl-2"},L=d(()=>t("i",{class:"bx bxs-plus-square"},null,-1)),T={class:"col-lg-9 col-xl-10"},q={class:"float-lg-end"},N={class:"row row-cols-lg-auto g-2"},G=m('<div class="col-12" data-v-e4827bc9><div class="position-relative" data-v-e4827bc9><input type="text" class="form-control ps-5" placeholder="Search Product..." data-v-e4827bc9><span class="position-absolute top-50 product-show translate-middle-y" data-v-e4827bc9><i class="bx bx-search" data-v-e4827bc9></i></span></div></div>',1),V={class:"col-12"},A={class:"btn-group",role:"group","aria-label":"Button group with nested dropdown"},H=d(()=>t("button",{type:"button",class:"btn btn-white"},"Sort By",-1)),F={class:"btn-group",role:"group"},U=d(()=>t("button",{id:"btnGroupDrop1",type:"button",class:"btn btn-white dropdown-toggle dropdown-toggle-nocaret px-1","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"bx bx-chevron-down"})],-1)),z={class:"dropdown-menu","aria-labelledby":"btnGroupDrop1"},E={class:"col-12"},J={class:"btn-group",role:"group","aria-label":"Button group with nested dropdown"},R=d(()=>t("button",{type:"button",class:"btn btn-white"},"Product Category",-1)),W={class:"btn-group",role:"group"},K=d(()=>t("button",{id:"btnGroupDrop1b",type:"button",class:"btn btn-white dropdown-toggle dropdown-toggle-nocaret px-1","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"bx bxs-category"})],-1)),M={class:"dropdown-menu","aria-labelledby":"btnGroupDrop1"},Q=["onClick"],X={class:"row row-cols-1 row-cols-sm-2 row-cols-lg-3 row-cols-xl-4 row-cols-xxl-5 product-grid"},Y={class:"col"},Z=["onClick"],$=["src","alt"],tt={class:"card-body"},et={class:"card-title cursor-pointer"},st={class:"clearfix"},ot={class:"mb-0 float-start fw-bold"},it=m('<div class="d-flex align-items-center mt-3 fs-6" data-v-e4827bc9><div class="cursor-pointer" data-v-e4827bc9><i class="bx bxs-star text-warning" data-v-e4827bc9></i><i class="bx bxs-star text-warning" data-v-e4827bc9></i><i class="bx bxs-star text-warning" data-v-e4827bc9></i><i class="bx bxs-star text-warning" data-v-e4827bc9></i><i class="bx bxs-star text-secondary" data-v-e4827bc9></i></div><p class="mb-0 ms-auto" data-v-e4827bc9>4.2(182)</p></div>',1);function at(e,o,l,b,u,c){return i(),a("div",k,[t("div",C,[t("div",S,[t("div",B,[t("div",O,[t("div",j,[t("div",D,[l.cartSessionLength>0?(i(),a("div",P,[t("a",{href:"#",class:"btn btn-primary mb-3 mb-lg-0",onClick:o[0]||(o[0]=(...s)=>c.checkout&&c.checkout(...s))},[L,_("Checkout ")])])):g("",!0),t("div",T,[t("form",q,[t("div",N,[G,t("div",V,[t("div",A,[H,t("div",F,[U,t("ul",z,[t("li",null,[t("a",{class:"dropdown-item",href:"#",onClick:o[1]||(o[1]=s=>e.sortProductBy(e.price))},"Price")]),t("li",null,[t("a",{class:"dropdown-item",href:"#",onClick:o[2]||(o[2]=s=>e.sortProductBy(e.rating))},"Rating")])])])])]),t("div",E,[t("div",J,[R,t("div",W,[K,t("ul",M,[(i(!0),a(n,null,p(l.categories,s=>(i(),a("li",null,[t("a",{class:"dropdown-item",href:"#",onClick:r=>c.filterCategory(s.id)},h(s.name),9,Q)]))),256))])])])])])])])])])])])]),t("div",X,[(i(!0),a(n,null,p(l.products,s=>(i(),a("div",Y,[t("div",{class:"card",onClick:r=>c.addToCart(s.id,s.name,s.category.id,s.price)},[t("img",{src:s.image_url,class:"card-img-top img-rounded product-image",alt:s.name,onLoad:o[3]||(o[3]=(...r)=>c.setheight&&c.setheight(...r)),style:x({height:u.imageHeight+"px"})},null,44,$),t("div",tt,[t("h6",et,h(s.name),1),t("div",st,[t("p",ot,[t("span",null,[(i(!0),a(n,null,p(s.price,r=>(i(),a(n,null,[r.currency_id==this.user.currency_id?(i(),a(n,{key:0},[_(h(r.currency.prefix)+h(r.price.toLocaleString()),1)],64)):g("",!0)],64))),256))])])]),it])],8,Z)]))),256))])])])}const nt=y(I,[["render",at],["__scopeId","data-v-e4827bc9"]]);export{nt as default};
